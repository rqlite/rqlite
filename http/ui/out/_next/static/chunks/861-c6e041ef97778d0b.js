"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[861],{5071:function(e,t,n){n.d(t,{Z:function(){return M}});var r=n(3366),i=n(7462),o=n(7294),l=n(6010),s=n(4780),a=n(1796),c=n(8216),u=n(948),f=n(2627),m=n(4423),d=n(8543),h=n(1588),g=n(4867);function p(e){return(0,g.Z)("PrivateSwitchBase",e)}(0,h.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var y=n(5893);let b=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],v=e=>{let{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${(0,c.Z)(i)}`],input:["input"]};return(0,s.Z)(o,p,t)},w=(0,u.ZP)(d.Z)(({ownerState:e})=>(0,i.Z)({padding:9,borderRadius:"50%"},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12})),E=(0,u.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),S=o.forwardRef(function(e,t){let{autoFocus:n,checked:o,checkedIcon:s,className:a,defaultChecked:c,disabled:u,disableFocusRipple:d=!1,edge:h=!1,icon:g,id:p,inputProps:S,inputRef:k,name:N,onBlur:O,onChange:I,onFocus:$,readOnly:A,required:x,tabIndex:L,type:_,value:T}=e,C=(0,r.Z)(e,b),[B,j]=(0,f.Z)({controlled:o,default:Boolean(c),name:"SwitchBase",state:"checked"}),P=(0,m.Z)(),M=e=>{$&&$(e),P&&P.onFocus&&P.onFocus(e)},D=e=>{O&&O(e),P&&P.onBlur&&P.onBlur(e)},R=e=>{if(e.nativeEvent.defaultPrevented)return;let t=e.target.checked;j(t),I&&I(e,t)},F=u;P&&void 0===F&&(F=P.disabled);let U=(0,i.Z)({},e,{checked:B,disabled:F,disableFocusRipple:d,edge:h}),Z=v(U);return(0,y.jsxs)(w,(0,i.Z)({component:"span",className:(0,l.Z)(Z.root,a),centerRipple:!0,focusRipple:!d,disabled:F,tabIndex:null,role:void 0,onFocus:M,onBlur:D,ownerState:U,ref:t},C,{children:[(0,y.jsx)(E,(0,i.Z)({autoFocus:n,checked:o,defaultChecked:c,className:Z.input,disabled:F,id:("checkbox"===_||"radio"===_)&&p,name:N,onChange:R,readOnly:A,ref:k,required:x,ownerState:U,tabIndex:L,type:_},"checkbox"===_&&void 0===T?{}:{value:T},S)),B?s:g]}))});var k=n(8169),N=(0,k.Z)((0,y.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),O=(0,k.Z)((0,y.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),I=(0,k.Z)((0,y.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),$=n(1657);function A(e){return(0,g.Z)("MuiCheckbox",e)}let x=(0,h.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),L=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],_=e=>{let{classes:t,indeterminate:n,color:r}=e,o={root:["root",n&&"indeterminate",`color${(0,c.Z)(r)}`]},l=(0,s.Z)(o,A,t);return(0,i.Z)({},t,l)},T=(0,u.ZP)(S,{shouldForwardProp:e=>(0,u.FO)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t[`color${(0,c.Z)(n.color)}`]]}})(({theme:e,ownerState:t})=>(0,i.Z)({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${"default"===t.color?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,a.Fq)("default"===t.color?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${x.checked}, &.${x.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${x.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),C=(0,y.jsx)(O,{}),B=(0,y.jsx)(N,{}),j=(0,y.jsx)(I,{}),P=o.forwardRef(function(e,t){var n,s;let a=(0,$.Z)({props:e,name:"MuiCheckbox"}),{checkedIcon:c=C,color:u="primary",icon:f=B,indeterminate:m=!1,indeterminateIcon:d=j,inputProps:h,size:g="medium",className:p}=a,b=(0,r.Z)(a,L),v=m?d:f,w=m?d:c,E=(0,i.Z)({},a,{color:u,indeterminate:m,size:g}),S=_(E);return(0,y.jsx)(T,(0,i.Z)({type:"checkbox",inputProps:(0,i.Z)({"data-indeterminate":m},h),icon:o.cloneElement(v,{fontSize:null!=(n=v.props.fontSize)?n:g}),checkedIcon:o.cloneElement(w,{fontSize:null!=(s=w.props.fontSize)?s:g}),ownerState:E,ref:t,className:(0,l.Z)(S.root,p)},b,{classes:S}))});var M=P},480:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(3366),i=n(7462),o=n(7294),l=n(6010),s=n(4780),a=n(4423),c=n(5861),u=n(8216),f=n(948),m=n(1657),d=n(1588),h=n(4867);function g(e){return(0,h.Z)("MuiFormControlLabel",e)}let p=(0,d.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]);var y=n(5704),b=n(5893);let v=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","slotProps","value"],w=e=>{let{classes:t,disabled:n,labelPlacement:r,error:i}=e,o={root:["root",n&&"disabled",`labelPlacement${(0,u.Z)(r)}`,i&&"error"],label:["label",n&&"disabled"]};return(0,s.Z)(o,g,t)},E=(0,f.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${p.label}`]:t.label},t.root,t[`labelPlacement${(0,u.Z)(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>(0,i.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${p.disabled}`]:{cursor:"default"}},"start"===t.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===t.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===t.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${p.label}`]:{[`&.${p.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),S=o.forwardRef(function(e,t){var n;let s=(0,m.Z)({props:e,name:"MuiFormControlLabel"}),{className:u,componentsProps:f={},control:d,disabled:h,disableTypography:g,label:p,labelPlacement:S="end",slotProps:k={}}=s,N=(0,r.Z)(s,v),O=(0,a.Z)(),I=h;void 0===I&&void 0!==d.props.disabled&&(I=d.props.disabled),void 0===I&&O&&(I=O.disabled);let $={disabled:I};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===d.props[e]&&void 0!==s[e]&&($[e]=s[e])});let A=(0,y.Z)({props:s,muiFormControl:O,states:["error"]}),x=(0,i.Z)({},s,{disabled:I,labelPlacement:S,error:A.error}),L=w(x),_=null!=(n=k.typography)?n:f.typography,T=p;return null==T||T.type===c.Z||g||(T=(0,b.jsx)(c.Z,(0,i.Z)({component:"span"},_,{className:(0,l.Z)(L.label,null==_?void 0:_.className),children:T}))),(0,b.jsxs)(E,(0,i.Z)({className:(0,l.Z)(L.root,u),ownerState:x,ref:t},N,{children:[o.cloneElement(d,$),T]}))});var k=S},3457:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(3366),i=n(7462),o=n(7294),l=n(6010),s=n(4780),a=n(948),c=n(1657),u=n(1588),f=n(4867);function m(e){return(0,f.Z)("MuiFormGroup",e)}(0,u.Z)("MuiFormGroup",["root","row","error"]);var d=n(4423),h=n(5704),g=n(5893);let p=["className","row"],y=e=>{let{classes:t,row:n,error:r}=e;return(0,s.Z)({root:["root",n&&"row",r&&"error"]},m,t)},b=(0,a.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>(0,i.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),v=o.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiFormGroup"}),{className:o,row:s=!1}=n,a=(0,r.Z)(n,p),u=(0,d.Z)(),f=(0,h.Z)({props:n,muiFormControl:u,states:["error"]}),m=(0,i.Z)({},n,{row:s,error:f.error}),v=y(m);return(0,g.jsx)(b,(0,i.Z)({className:(0,l.Z)(v.root,o),ownerState:m,ref:t},a))});var w=v},2877:function(e,t,n){n.d(t,{r:function(){return i}});var r=RegExp("\\b((true)|(false)|(on)|(off)|(yes)|(no))$","i");let i={token:function(e,t){var n=e.peek(),i=t.escaped;if(t.escaped=!1,"#"==n&&(0==e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(e.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(t.literal&&e.indentation()>t.keyCol)return e.skipToEnd(),"string";if(t.literal&&(t.literal=!1),e.sol()){if(t.keyCol=0,t.pair=!1,t.pairStart=!1,e.match("---")||e.match("..."))return"def";if(e.match(/^\s*-\s+/))return"meta"}if(e.match(/^(\{|\}|\[|\])/))return"{"==n?t.inlinePairs++:"}"==n?t.inlinePairs--:"["==n?t.inlineList++:t.inlineList--,"meta";if(t.inlineList>0&&!i&&","==n)return e.next(),"meta";if(t.inlinePairs>0&&!i&&","==n)return t.keyCol=0,t.pair=!1,t.pairStart=!1,e.next(),"meta";if(t.pairStart){if(e.match(/^\s*(\||\>)\s*/))return t.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable";if(0==t.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/)||t.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(e.match(r))return"keyword"}return!t.pair&&e.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(t.pair=!0,t.keyCol=e.indentation(),"atom"):t.pair&&e.match(/^:\s*/)?(t.pairStart=!0,"meta"):(t.pairStart=!1,t.escaped="\\"==n,e.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},languageData:{commentTokens:{line:"#"}}}},9667:function(e,t,n){n.d(t,{BB:function(){return tr}});let r=Symbol.for("yaml.alias"),i=Symbol.for("yaml.document"),o=Symbol.for("yaml.map"),l=Symbol.for("yaml.pair"),s=Symbol.for("yaml.scalar"),a=Symbol.for("yaml.seq"),c=Symbol.for("yaml.node.type"),u=e=>!!e&&"object"==typeof e&&e[c]===r,f=e=>!!e&&"object"==typeof e&&e[c]===i,m=e=>!!e&&"object"==typeof e&&e[c]===o,d=e=>!!e&&"object"==typeof e&&e[c]===l,h=e=>!!e&&"object"==typeof e&&e[c]===s,g=e=>!!e&&"object"==typeof e&&e[c]===a;function p(e){if(e&&"object"==typeof e)switch(e[c]){case o:case a:return!0}return!1}function y(e){if(e&&"object"==typeof e)switch(e[c]){case r:case o:case s:case a:return!0}return!1}let b=e=>(h(e)||p(e))&&!!e.anchor;class v{constructor(e){Object.defineProperty(this,c,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}let w=Symbol("break visit"),E=Symbol("skip children"),S=Symbol("remove node");function k(e,t){let n=$(t);if(f(e)){let r=N(null,e.contents,n,Object.freeze([e]));r===S&&(e.contents=null)}else N(null,e,n,Object.freeze([]))}function N(e,t,n,r){let i=A(e,t,n,r);if(y(i)||d(i))return x(e,r,i),N(e,i,n,r);if("symbol"!=typeof i){if(p(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){let l=N(o,t.items[o],n,r);if("number"==typeof l)o=l-1;else{if(l===w)return w;l===S&&(t.items.splice(o,1),o-=1)}}}else if(d(t)){r=Object.freeze(r.concat(t));let s=N("key",t.key,n,r);if(s===w)return w;s===S&&(t.key=null);let a=N("value",t.value,n,r);if(a===w)return w;a===S&&(t.value=null)}}return i}async function O(e,t){let n=$(t);if(f(e)){let r=await I(null,e.contents,n,Object.freeze([e]));r===S&&(e.contents=null)}else await I(null,e,n,Object.freeze([]))}async function I(e,t,n,r){let i=await A(e,t,n,r);if(y(i)||d(i))return x(e,r,i),I(e,i,n,r);if("symbol"!=typeof i){if(p(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){let l=await I(o,t.items[o],n,r);if("number"==typeof l)o=l-1;else{if(l===w)return w;l===S&&(t.items.splice(o,1),o-=1)}}}else if(d(t)){r=Object.freeze(r.concat(t));let s=await I("key",t.key,n,r);if(s===w)return w;s===S&&(t.key=null);let a=await I("value",t.value,n,r);if(a===w)return w;a===S&&(t.value=null)}}return i}function $(e){return"object"==typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function A(e,t,n,r){return"function"==typeof n?n(e,t,r):m(t)?n.Map?.(e,t,r):g(t)?n.Seq?.(e,t,r):d(t)?n.Pair?.(e,t,r):h(t)?n.Scalar?.(e,t,r):u(t)?n.Alias?.(e,t,r):void 0}function x(e,t,n){let r=t[t.length-1];if(p(r))r.items[e]=n;else if(d(r))"key"===e?r.key=n:r.value=n;else if(f(r))r.contents=n;else{let i=u(r)?"alias":"scalar";throw Error(`Cannot replace node with ${i} parent`)}}k.BREAK=w,k.SKIP=E,k.REMOVE=S,O.BREAK=w,O.SKIP=E,O.REMOVE=S;let L={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},_=e=>e.replace(/[!,[\]{}]/g,e=>L[e]);class T{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},T.defaultYaml,e),this.tags=Object.assign({},T.defaultTags,t)}clone(){let e=new T(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new T(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:T.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},T.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:T.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},T.defaultTags),this.atNextDocument=!1);let n=e.trim().split(/[ \t]+/),r=n.shift();switch(r){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[i,o]=n;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;let[l]=n;if("1.1"===l||"1.2"===l)return this.yaml.version=l,!0;{let s=/^\d+\.\d+$/.test(l);return t(6,`Unsupported YAML version ${l}`,s),!1}}default:return t(0,`Unknown directive ${r}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){let n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}let[,r,i]=e.match(/^(.*!)([^!]*)$/);i||t(`The ${e} tag has no suffix`);let o=this.tags[r];return o?o+decodeURIComponent(i):"!"===r?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+_(e.substring(n.length));return"!"===e[0]?e:`!<${e}>`}toString(e){let t;let n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);if(e&&r.length>0&&y(e.contents)){let i={};k(e.contents,(e,t)=>{y(t)&&t.tag&&(i[t.tag]=!0)}),t=Object.keys(i)}else t=[];for(let[o,l]of r)("!!"!==o||"tag:yaml.org,2002:"!==l)&&(!e||t.some(e=>e.startsWith(l)))&&n.push(`%TAG ${o} ${l}`);return n.join("\n")}}function C(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){let t=JSON.stringify(e),n=`Anchor must not contain whitespace or control characters: ${t}`;throw Error(n)}return!0}function B(e){let t=new Set;return k(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function j(e,t){for(let n=1;;++n){let r=`${e}${n}`;if(!t.has(r))return r}}T.defaultYaml={explicit:!1,version:"1.2"},T.defaultTags={"!!":"tag:yaml.org,2002:"};class P extends v{constructor(e){super(r),this.source=e,Object.defineProperty(this,"tag",{set(){throw Error("Alias nodes cannot have tags")}})}resolve(e){let t;return k(e,{Node:(e,n)=>{if(n===this)return k.BREAK;n.anchor===this.source&&(t=n)}}),t}toJSON(e,t){if(!t)return{source:this.source};let{anchors:n,doc:r,maxAliasCount:i}=t,o=this.resolve(r);if(!o){let l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw ReferenceError(l)}let s=n.get(o);if(!s||void 0===s.res)throw ReferenceError("This should not happen: Alias anchor was not resolved?");if(i>=0&&(s.count+=1,0===s.aliasCount&&(s.aliasCount=function e(t,n,r){if(u(n)){let i=n.resolve(t),o=r&&i&&r.get(i);return o?o.count*o.aliasCount:0}if(p(n)){let l=0;for(let s of n.items){let a=e(t,s,r);a>l&&(l=a)}return l}if(d(n)){let c=e(t,n.key,r),f=e(t,n.value,r);return Math.max(c,f)}return 1}(r,o,n)),s.count*s.aliasCount>i))throw ReferenceError("Excessive alias count indicates a resource exhaustion attack");return s.res}toString(e,t,n){let r=`*${this.source}`;if(e){if(C(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw Error(i)}if(e.implicitKey)return`${r} `}return r}}function M(e,t,n){if(Array.isArray(e))return e.map((e,t)=>M(e,String(t),n));if(e&&"function"==typeof e.toJSON){if(!n||!b(e))return e.toJSON(t,n);let r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=e=>{r.res=e,delete n.onCreate};let i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return"bigint"!=typeof e||n?.keep?e:Number(e)}let D=e=>!e||"function"!=typeof e&&"object"!=typeof e;class R extends v{constructor(e){super(s),this.value=e}toJSON(e,t){return t?.keep?this.value:M(this.value,e,t)}toString(){return String(this.value)}}function F(e,t,n){let r;if(f(e)&&(e=e.contents),y(e))return e;if(d(e)){let i=n.schema[o].createNode?.(n.schema,null,n);return i.items.push(e),i}(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());let{aliasDuplicateObjects:l,onAnchor:s,onTagObj:c,schema:u,sourceObjects:m}=n;if(l&&e&&"object"==typeof e){if(r=m.get(e))return r.anchor||(r.anchor=s(e)),new P(r.anchor);r={anchor:null,node:null},m.set(e,r)}t?.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));let h=function(e,t,n){if(t){let r=n.filter(e=>e.tag===t),i=r.find(e=>!e.format)??r[0];if(!i)throw Error(`Tag ${t} not found`);return i}return n.find(t=>t.identify?.(e)&&!t.format)}(e,t,u.tags);if(!h){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){let g=new R(e);return r&&(r.node=g),g}h=e instanceof Map?u[o]:Symbol.iterator in Object(e)?u[a]:u[o]}c&&(c(h),delete n.onTagObj);let p=h?.createNode?h.createNode(n.schema,e,n):new R(e);return t&&(p.tag=t),r&&(r.node=p),p}function U(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){let o=t[i];if("number"==typeof o&&Number.isInteger(o)&&o>=0){let l=[];l[o]=r,r=l}else r=new Map([[o,r]])}return F(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}R.BLOCK_FOLDED="BLOCK_FOLDED",R.BLOCK_LITERAL="BLOCK_LITERAL",R.PLAIN="PLAIN",R.QUOTE_DOUBLE="QUOTE_DOUBLE",R.QUOTE_SINGLE="QUOTE_SINGLE";let Z=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class K extends v{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(t=>y(t)||d(t)?t.clone(e):t),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(Z(e))this.add(t);else{let[n,...r]=e,i=this.get(n,!0);if(p(i))i.addIn(r,t);else if(void 0===i&&this.schema)this.set(n,U(this.schema,r,t));else throw Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}}deleteIn(e){let[t,...n]=e;if(0===n.length)return this.delete(t);let r=this.get(t,!0);if(p(r))return r.deleteIn(n);throw Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){let[n,...r]=e,i=this.get(n,!0);return 0===r.length?!t&&h(i)?i.value:i:p(i)?i.getIn(r,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!d(t))return!1;let n=t.value;return null==n||e&&h(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){let[t,...n]=e;if(0===n.length)return this.has(t);let r=this.get(t,!0);return!!p(r)&&r.hasIn(n)}setIn(e,t){let[n,...r]=e;if(0===r.length)this.set(n,t);else{let i=this.get(n,!0);if(p(i))i.setIn(r,t);else if(void 0===i&&this.schema)this.set(n,U(this.schema,r,t));else throw Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}}}K.maxFlowStringSingleLineLength=60;let q=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function J(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}let V=(e,t,n)=>e.endsWith("\n")?J(n,t):n.includes("\n")?"\n"+J(n,t):(e.endsWith(" ")?"":" ")+n,G="flow",Y="block",W="quoted";function H(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:o=20,onFold:l,onOverflow:s}={}){let a,c,u;if(!i||i<0)return e;let f=Math.max(1+o,1+i-t.length);if(e.length<=f)return e;let m=[],d={},h=i-t.length;"number"==typeof r&&(r>i-Math.max(2,o)?m.push(0):h=i-r);let g=!1,p=-1,y=-1,b=-1;for(n===Y&&-1!==(p=z(e,p))&&(h=p+f);u=e[p+=1];){if(n===W&&"\\"===u){switch(y=p,e[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}b=p}if("\n"===u)n===Y&&(p=z(e,p)),h=p+f,a=void 0;else{if(" "===u&&c&&" "!==c&&"\n"!==c&&"	"!==c){let v=e[p+1];v&&" "!==v&&"\n"!==v&&"	"!==v&&(a=p)}if(p>=h){if(a)m.push(a),h=a+f,a=void 0;else if(n===W){for(;" "===c||"	"===c;)c=u,u=e[p+=1],g=!0;let w=p>b+1?p-2:y-1;if(d[w])return e;m.push(w),d[w]=!0,h=w+f,a=void 0}else g=!0}}c=u}if(g&&s&&s(),0===m.length)return e;l&&l();let E=e.slice(0,m[0]);for(let S=0;S<m.length;++S){let k=m[S],N=m[S+1]||e.length;0===k?E=`
${t}${e.slice(0,N)}`:(n===W&&d[k]&&(E+=`${e[k]}\\`),E+=`
${t}${e.slice(k+1,N)}`)}return E}function z(e,t){let n=e[t+1];for(;" "===n||"	"===n;){do n=e[t+=1];while(n&&"\n"!==n);n=e[t+1]}return t}let Q=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),X=e=>/^(%|---|\.\.\.)/m.test(e);function ee(e,t){let n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;let{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(X(e)?"  ":""),l="",s=0;for(let a=0,c=n[a];c;c=n[++a])if(" "===c&&"\\"===n[a+1]&&"n"===n[a+2]&&(l+=n.slice(s,a)+"\\ ",a+=1,s=a,c="\\"),"\\"===c)switch(n[a+1]){case"u":{l+=n.slice(s,a);let u=n.substr(a+2,4);switch(u){case"0000":l+="\\0";break;case"0007":l+="\\a";break;case"000b":l+="\\v";break;case"001b":l+="\\e";break;case"0085":l+="\\N";break;case"00a0":l+="\\_";break;case"2028":l+="\\L";break;case"2029":l+="\\P";break;default:"00"===u.substr(0,2)?l+="\\x"+u.substr(2):l+=n.substr(a,6)}a+=5,s=a+1}break;case"n":if(r||'"'===n[a+2]||n.length<i)a+=1;else{for(l+=n.slice(s,a)+"\n\n";"\\"===n[a+2]&&"n"===n[a+3]&&'"'!==n[a+4];)l+="\n",a+=2;l+=o," "===n[a+2]&&(l+="\\"),a+=1,s=a+1}break;default:a+=1}return l=s?l+n.slice(s):n,r?l:H(l,o,W,Q(t))}function et(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return ee(e,t);let n=t.indent||(X(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:H(r,n,G,Q(t))}function en(e,t){let n;let{singleQuote:r}=t.options;if(!1===r)n=ee;else{let i=e.includes('"'),o=e.includes("'");n=i&&!o?et:o&&!i?ee:r?et:ee}return n(e,t)}function er({comment:e,type:t,value:n},r,i,o){let l,s,a;let{blockQuote:c,commentString:u,lineWidth:f}=r.options;if(!c||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return en(n,r);let m=r.indent||(r.forceBlockIndent||X(n)?"  ":""),d="literal"===c||"folded"!==c&&t!==R.BLOCK_FOLDED&&(t===R.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;let r=t-n,i=e.length;if(i<=r)return!1;for(let o=0,l=0;o<i;++o)if("\n"===e[o]){if(o-l>r)return!0;if(i-(l=o+1)<=r)return!1}return!0}(n,f,m.length));if(!n)return d?"|\n":">\n";for(s=n.length;s>0;--s){let h=n[s-1];if("\n"!==h&&"	"!==h&&" "!==h)break}let g=n.substring(s),p=g.indexOf("\n");-1===p?l="-":n===g||p!==g.length-1?(l="+",o&&o()):l="",g&&(n=n.slice(0,-g.length),"\n"===g[g.length-1]&&(g=g.slice(0,-1)),g=g.replace(/\n+(?!\n|$)/g,`$&${m}`));let y=!1,b=-1;for(a=0;a<n.length;++a){let v=n[a];if(" "===v)y=!0;else if("\n"===v)b=a;else break}let w=n.substring(0,b<a?b+1:a);w&&(n=n.substring(w.length),w=w.replace(/\n+/g,`$&${m}`));let E=(d?"|":">")+(y?m?"2":"1":"")+l;if(e&&(E+=" "+u(e.replace(/ ?[\r\n]+/g," ")),i&&i()),d)return`${E}
${m}${w}${n=n.replace(/\n+/g,`$&${m}`)}${g}`;n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${m}`);let S=H(`${w}${n}${g}`,m,Y,Q(r));return`${E}
${m}${S}`}function ei(e,t,n,r){let{implicitKey:i,inFlow:o}=t,l="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)}),{type:s}=e;s!==R.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(l.value)&&(s=R.QUOTE_DOUBLE);let a=e=>{switch(e){case R.BLOCK_FOLDED:case R.BLOCK_LITERAL:return i||o?en(l.value,t):er(l,t,n,r);case R.QUOTE_DOUBLE:return ee(l.value,t);case R.QUOTE_SINGLE:return et(l.value,t);case R.PLAIN:return function(e,t,n,r){let{type:i,value:o}=e,{actualString:l,implicitKey:s,indent:a,indentStep:c,inFlow:u}=t;if(s&&/[\n[\]{},]/.test(o)||u&&/[[\]{},]/.test(o))return en(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return s||u||!o.includes("\n")?en(o,t):er(e,t,n,r);if(!s&&!u&&i!==R.PLAIN&&o.includes("\n"))return er(e,t,n,r);if(X(o)){if(""===a)return t.forceBlockIndent=!0,er(e,t,n,r);if(s&&a===c)return en(o,t)}let f=o.replace(/\n+/g,`$&
${a}`);if(l){let m=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(f),{compat:d,tags:h}=t.doc.schema;if(h.some(m)||d?.some(m))return en(o,t)}return s?f:H(f,a,G,Q(t))}(l,t,n,r);default:return null}},c=a(s);if(null===c){let{defaultKeyType:u,defaultStringType:f}=t.options,m=i&&u||f;if(null===(c=a(m)))throw Error(`Unsupported default string type ${m}`)}return c}function eo(e,t){let n;let r=Object.assign({blockQuote:!0,commentString:q,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof r.indent?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function el(e,t,n,r){let i;if(d(e))return e.toString(t,n,r);if(u(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let o=y(e)?e:t.doc.createNode(e,{onTagObj:e=>i=e});i||(i=function(e,t){let n,r;if(t.tag){let i=e.filter(e=>e.tag===t.tag);if(i.length>0)return i.find(e=>e.format===t.format)??i[0]}if(h(t)){n=t.value;let o=e.filter(e=>e.identify?.(n));r=o.find(e=>e.format===t.format)??o.find(e=>!e.format)}else n=t,r=e.find(e=>e.nodeClass&&n instanceof e.nodeClass);if(!r){let l=n?.constructor?.name??typeof n;throw Error(`Tag not resolved for ${l} value`)}return r}(t.doc.schema.tags,o));let l=function(e,t,{anchors:n,doc:r}){if(!r.directives)return"";let i=[],o=(h(e)||p(e))&&e.anchor;o&&C(o)&&(n.add(o),i.push(`&${o}`));let l=e.tag?e.tag:t.default?null:t.tag;return l&&i.push(r.directives.tagString(l)),i.join(" ")}(o,i,t);l.length>0&&(t.indentAtStart=(t.indentAtStart??0)+l.length+1);let s="function"==typeof i.stringify?i.stringify(o,t,n,r):h(o)?ei(o,t,n,r):o.toString(t,n,r);return l?h(o)||"{"===s[0]||"["===s[0]?`${l} ${s}`:`${l}
${t.indent}${s}`:s}var es=n(3454);function ea(e,t,{key:n,value:r}){if(e?.doc.schema.merge&&ec(n)){if(g(r=u(r)?r.resolve(e.doc):r))for(let i of r.items)eu(e,t,i);else if(Array.isArray(r))for(let o of r)eu(e,t,o);else eu(e,t,r)}else{let l=M(n,"",e);if(t instanceof Map)t.set(l,M(r,l,e));else if(t instanceof Set)t.add(l);else{let s=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(y(e)&&n&&n.doc){let r=eo(n.doc,{});for(let i of(r.anchors=new Set,n.anchors.keys()))r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;let o=e.toString(r);if(!n.mapKeyWarned){var l,s;let a=JSON.stringify(o);a.length>40&&(a=a.substring(0,36)+'..."'),l=n.doc.options.logLevel,s=`Keys with collection values will be stringified due to JS Object restrictions: ${a}. Set mapAsMap: true to use object keys.`,("debug"===l||"warn"===l)&&(void 0!==es&&es.emitWarning?es.emitWarning(s):console.warn(s)),n.mapKeyWarned=!0}return o}return JSON.stringify(t)}(n,l,e),a=M(r,s,e);s in t?Object.defineProperty(t,s,{value:a,writable:!0,enumerable:!0,configurable:!0}):t[s]=a}}return t}let ec=e=>"<<"===e||h(e)&&"<<"===e.value&&(!e.type||e.type===R.PLAIN);function eu(e,t,n){let r=e&&u(n)?n.resolve(e.doc):n;if(!m(r))throw Error("Merge sources must be maps or map aliases");let i=r.toJSON(null,e,Map);for(let[o,l]of i)t instanceof Map?t.has(o)||t.set(o,l):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:l,writable:!0,enumerable:!0,configurable:!0});return t}function ef(e,t,n){let r=F(e,void 0,n),i=F(t,void 0,n);return new em(r,i)}class em{constructor(e,t=null){Object.defineProperty(this,c,{value:l}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return y(t)&&(t=t.clone(e)),y(n)&&(n=n.clone(e)),new em(t,n)}toJSON(e,t){let n=t?.mapAsMap?new Map:{};return ea(t,n,this)}toString(e,t,n){return e?.doc?function({key:e,value:t},n,r,i){let o,l,s;let{allNullValues:a,doc:c,indent:u,indentStep:f,options:{commentString:m,indentSeq:d,simpleKeys:b}}=n,v=y(e)&&e.comment||null;if(b){if(v)throw Error("With simple keys, key nodes cannot have comments");if(p(e))throw Error("With simple keys, collection cannot be used as a key value")}let w=!b&&(!e||v&&null==t&&!n.inFlow||p(e)||(h(e)?e.type===R.BLOCK_FOLDED||e.type===R.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!w&&(b||!a),indent:u+f});let E=!1,S=!1,k=el(e,n,()=>E=!0,()=>S=!0);if(!w&&!n.inFlow&&k.length>1024){if(b)throw Error("With simple keys, single line scalar must not span more than 1024 characters");w=!0}if(n.inFlow){if(a||null==t)return E&&r&&r(),""===k?"?":w?`? ${k}`:k}else if(a&&!b||null==t&&w)return k=`? ${k}`,v&&!E?k+=V(k,n.indent,m(v)):S&&i&&i(),k;E&&(v=null),w?(v&&(k+=V(k,n.indent,m(v))),k=`? ${k}
${u}:`):(k=`${k}:`,v&&(k+=V(k,n.indent,m(v)))),y(t)?(o=!!t.spaceBefore,l=t.commentBefore,s=t.comment):(o=!1,l=null,s=null,t&&"object"==typeof t&&(t=c.createNode(t))),n.implicitKey=!1,!w&&!v&&h(t)&&(n.indentAtStart=k.length+1),S=!1,!(!d&&f.length>=2&&!n.inFlow&&!w&&g(t))||t.flow||t.tag||t.anchor||(n.indent=n.indent.substring(2));let N=!1,O=el(t,n,()=>N=!0,()=>S=!0),I=" ";if(v||o||l){if(I=o?"\n":"",l){let $=m(l);I+=`
${J($,n.indent)}`}""!==O||n.inFlow?I+=`
${n.indent}`:"\n"===I&&(I="\n\n")}else if(!w&&p(t)){let A=O[0],x=O.indexOf("\n"),L=-1!==x,_=n.inFlow??t.flow??0===t.items.length;if(L||!_){let T=!1;if(L&&("&"===A||"!"===A)){let C=O.indexOf(" ");"&"===A&&-1!==C&&C<x&&"!"===O[C+1]&&(C=O.indexOf(" ",C+1)),(-1===C||x<C)&&(T=!0)}T||(I=`
${n.indent}`)}}else(""===O||"\n"===O[0])&&(I="");return k+=I+O,n.inFlow?N&&r&&r():s&&!N?k+=V(k,n.indent,m(s)):S&&i&&i(),k}(this,e,t,n):JSON.stringify(this)}}function ed(e,t,n){let r=t.inFlow??e.flow;return(r?eg:eh)(e,t,n)}function eh({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:o,onChompKeep:l,onComment:s}){let a;let{indent:c,options:{commentString:u}}=n,f=Object.assign({},n,{indent:o,type:null}),m=!1,h=[];for(let g=0;g<t.length;++g){let p=t[g],b=null;if(y(p))!m&&p.spaceBefore&&h.push(""),ep(n,h,p.commentBefore,m),p.comment&&(b=p.comment);else if(d(p)){let v=y(p.key)?p.key:null;v&&(!m&&v.spaceBefore&&h.push(""),ep(n,h,v.commentBefore,m))}m=!1;let w=el(p,f,()=>b=null,()=>m=!0);b&&(w+=V(w,o,u(b))),m&&b&&(m=!1),h.push(r+w)}if(0===h.length)a=i.start+i.end;else{a=h[0];for(let E=1;E<h.length;++E){let S=h[E];a+=S?`
${c}${S}`:"\n"}}return e?(a+="\n"+J(u(e),c),s&&s()):m&&l&&l(),a}function eg({comment:e,items:t},n,{flowChars:r,itemIndent:i,onComment:o}){let l;let{indent:s,indentStep:a,flowCollectionPadding:c,options:{commentString:u}}=n;i+=a;let f=Object.assign({},n,{indent:i,inFlow:!0,type:null}),m=!1,h=0,g=[];for(let p=0;p<t.length;++p){let b=t[p],v=null;if(y(b))b.spaceBefore&&g.push(""),ep(n,g,b.commentBefore,!1),b.comment&&(v=b.comment);else if(d(b)){let w=y(b.key)?b.key:null;w&&(w.spaceBefore&&g.push(""),ep(n,g,w.commentBefore,!1),w.comment&&(m=!0));let E=y(b.value)?b.value:null;E?(E.comment&&(v=E.comment),E.commentBefore&&(m=!0)):null==b.value&&w&&w.comment&&(v=w.comment)}v&&(m=!0);let S=el(b,f,()=>v=null);p<t.length-1&&(S+=","),v&&(S+=V(S,i,u(v))),!m&&(g.length>h||S.includes("\n"))&&(m=!0),g.push(S),h=g.length}let{start:k,end:N}=r;if(0===g.length)l=k+N;else{if(!m){let O=g.reduce((e,t)=>e+t.length+2,2);m=O>K.maxFlowStringSingleLineLength}if(m){for(let I of(l=k,g))l+=I?`
${a}${s}${I}`:"\n";l+=`
${s}${N}`}else l=`${k}${c}${g.join(" ")}${c}${N}`}return e&&(l+=V(l,u(e),s),o&&o()),l}function ep({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){let o=J(t(r),e);n.push(o.trimStart())}}function ey(e,t){let n=h(t)?t.value:t;for(let r of e)if(d(r)&&(r.key===t||r.key===n||h(r.key)&&r.key.value===n))return r}class eb extends K{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(o,e),this.items=[]}add(e,t){let n;n=d(e)?e:e&&"object"==typeof e&&"key"in e?new em(e.key,e.value):new em(e,e?.value);let r=ey(this.items,n.key),i=this.schema?.sortMapEntries;if(r){if(!t)throw Error(`Key ${n.key} already set`);h(r.value)&&D(n.value)?r.value.value=n.value:r.value=n.value}else if(i){let o=this.items.findIndex(e=>0>i(n,e));-1===o?this.items.push(n):this.items.splice(o,0,n)}else this.items.push(n)}delete(e){let t=ey(this.items,e);if(!t)return!1;let n=this.items.splice(this.items.indexOf(t),1);return n.length>0}get(e,t){let n=ey(this.items,e),r=n?.value;return(!t&&h(r)?r.value:r)??void 0}has(e){return!!ey(this.items,e)}set(e,t){this.add(new em(e,t),!0)}toJSON(e,t,n){let r=n?new n:t?.mapAsMap?new Map:{};for(let i of(t?.onCreate&&t.onCreate(r),this.items))ea(t,r,i);return r}toString(e,t,n){if(!e)return JSON.stringify(this);for(let r of this.items)if(!d(r))throw Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),ed(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}let ev={collection:"map",createNode:function(e,t,n){let{keepUndefined:r,replacer:i}=n,o=new eb(e),l=(e,l)=>{if("function"==typeof i)l=i.call(t,e,l);else if(Array.isArray(i)&&!i.includes(e))return;(void 0!==l||r)&&o.items.push(ef(e,l,n))};if(t instanceof Map)for(let[s,a]of t)l(s,a);else if(t&&"object"==typeof t)for(let c of Object.keys(t))l(c,t[c]);return"function"==typeof e.sortMapEntries&&o.items.sort(e.sortMapEntries),o},default:!0,nodeClass:eb,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(m(e)||t("Expected a mapping for this tag"),e)};class ew extends K{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(a,e),this.items=[]}add(e){this.items.push(e)}delete(e){let t=eE(e);if("number"!=typeof t)return!1;let n=this.items.splice(t,1);return n.length>0}get(e,t){let n=eE(e);if("number"!=typeof n)return;let r=this.items[n];return!t&&h(r)?r.value:r}has(e){let t=eE(e);return"number"==typeof t&&t<this.items.length}set(e,t){let n=eE(e);if("number"!=typeof n)throw Error(`Expected a valid index, not ${e}.`);let r=this.items[n];h(r)&&D(t)?r.value=t:this.items[n]=t}toJSON(e,t){let n=[];t?.onCreate&&t.onCreate(n);let r=0;for(let i of this.items)n.push(M(i,String(r++),t));return n}toString(e,t,n){return e?ed(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}function eE(e){let t=h(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}let eS={collection:"seq",createNode:function(e,t,n){let{replacer:r}=n,i=new ew(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let l of t){if("function"==typeof r){let s=t instanceof Set?l:String(o++);l=r.call(t,s,l)}i.items.push(F(l,void 0,n))}}return i},default:!0,nodeClass:ew,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(g(e)||t("Expected a sequence for this tag"),e)},ek={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,r)=>ei(e,t=Object.assign({actualString:!0},t),n,r)},eN={identify:e=>null==e,createNode:()=>new R(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new R(null),stringify:({source:e},t)=>"string"==typeof e&&eN.test.test(e)?e:t.options.nullStr},eO={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new R("t"===e[0]||"T"===e[0]),stringify({source:e,value:t},n){if(e&&eO.test.test(e)){let r="t"===e[0]||"T"===e[0];if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function eI({format:e,minFractionDigits:t,tag:n,value:r}){if("bigint"==typeof r)return String(r);let i="number"==typeof r?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(r);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(o)){let l=o.indexOf(".");l<0&&(l=o.length,o+=".");let s=t-(o.length-l-1);for(;s-- >0;)o+="0"}return o}let e$={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:eI},eA={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():eI(e)}},ex={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){let t=new R(parseFloat(e)),n=e.indexOf(".");return -1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:eI},eL=e=>"bigint"==typeof e||Number.isInteger(e),e_=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function eT(e,t,n){let{value:r}=e;return eL(r)&&r>=0?n+r.toString(t):eI(e)}let eC={identify:e=>eL(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>e_(e,2,8,n),stringify:e=>eT(e,8,"0o")},eB={identify:eL,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>e_(e,0,10,n),stringify:eI},ej={identify:e=>eL(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>e_(e,2,16,n),stringify:e=>eT(e,16,"0x")};function eP(e){return"bigint"==typeof e||Number.isInteger(e)}let eM=({value:e})=>JSON.stringify(e),eD=[{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:eM},{identify:e=>null==e,createNode:()=>new R(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:eM},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:eM},{identify:eP,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>eP(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:eM}],eR=[ev,eS].concat(eD,{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)});var eF=n(1876).Buffer;let eU={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof eF)return eF.from(e,"base64");if("function"!=typeof atob)return t("This environment does not support reading binary tags; either Buffer or atob is required"),e;{let n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}},stringify({comment:e,type:t,value:n},r,i,o){let l;if("function"==typeof eF)l=n instanceof eF?n.toString("base64"):eF.from(n.buffer).toString("base64");else if("function"==typeof btoa){let s="";for(let a=0;a<n.length;++a)s+=String.fromCharCode(n[a]);l=btoa(s)}else throw Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=R.BLOCK_LITERAL),t!==R.QUOTE_DOUBLE){let c=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(l.length/c),f=Array(u);for(let m=0,d=0;m<u;++m,d+=c)f[m]=l.substr(d,c);l=f.join(t===R.BLOCK_LITERAL?"\n":" ")}return ei({comment:e,type:t,value:l},r,i,o)}};function eZ(e,t){if(g(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!d(r)){if(m(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");let i=r.items[0]||new em(new R(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){let o=i.value??i.key;o.comment=o.comment?`${r.comment}
${o.comment}`:r.comment}r=i}e.items[n]=d(r)?r:new em(r)}}else t("Expected a sequence for this tag");return e}function eK(e,t,n){let{replacer:r}=n,i=new ew(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let l of t){let s,a;if("function"==typeof r&&(l=r.call(t,String(o++),l)),Array.isArray(l)){if(2===l.length)s=l[0],a=l[1];else throw TypeError(`Expected [key, value] tuple: ${l}`)}else if(l&&l instanceof Object){let c=Object.keys(l);if(1===c.length)a=l[s=c[0]];else throw TypeError(`Expected { key: value } tuple: ${l}`)}else s=l;i.items.push(ef(s,a,n))}return i}let eq={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:eZ,createNode:eK};class eJ extends ew{constructor(){super(),this.add=eb.prototype.add.bind(this),this.delete=eb.prototype.delete.bind(this),this.get=eb.prototype.get.bind(this),this.has=eb.prototype.has.bind(this),this.set=eb.prototype.set.bind(this),this.tag=eJ.tag}toJSON(e,t){if(!t)return super.toJSON(e);let n=new Map;for(let r of(t?.onCreate&&t.onCreate(n),this.items)){let i,o;if(d(r)?(i=M(r.key,"",t),o=M(r.value,i,t)):i=M(r,"",t),n.has(i))throw Error("Ordered maps must not include duplicate keys");n.set(i,o)}return n}}eJ.tag="tag:yaml.org,2002:omap";let eV={collection:"seq",identify:e=>e instanceof Map,nodeClass:eJ,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){let n=eZ(e,t),r=[];for(let{key:i}of n.items)h(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new eJ,n)},createNode(e,t,n){let r=eK(e,t,n),i=new eJ;return i.items=r.items,i}};function eG({value:e,source:t},n){return t&&(e?eY:eW).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}let eY={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new R(!0),stringify:eG},eW={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new R(!1),stringify:eG},eH=e=>"bigint"==typeof e||Number.isInteger(e);function ez(e,t,n,{intAsBigInt:r}){let i=e[0];if(("-"===i||"+"===i)&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}let o=BigInt(e);return"-"===i?BigInt(-1)*o:o}let l=parseInt(e,n);return"-"===i?-1*l:l}function eQ(e,t,n){let{value:r}=e;if(eH(r)){let i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return eI(e)}class eX extends eb{constructor(e){super(e),this.tag=eX.tag}add(e){let t;t=d(e)?e:e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new em(e.key,null):new em(e,null);let n=ey(this.items,t.key);n||this.items.push(t)}get(e,t){let n=ey(this.items,e);return!t&&d(n)?h(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);let n=ey(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new em(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw Error("Set items must all have null values")}}eX.tag="tag:yaml.org,2002:set";let e0={collection:"map",identify:e=>e instanceof Set,nodeClass:eX,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(m(e)){if(e.hasAllNullValues(!0))return Object.assign(new eX,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){let{replacer:r}=n,i=new eX(e);if(t&&Symbol.iterator in Object(t))for(let o of t)"function"==typeof r&&(o=r.call(t,o,o)),i.items.push(ef(o,null,n));return i}};function e1(e,t){let n=e[0],r="-"===n||"+"===n?e.substring(1):e,i=e=>t?BigInt(e):Number(e),o=r.replace(/_/g,"").split(":").reduce((e,t)=>e*i(60)+i(t),i(0));return"-"===n?i(-1)*o:o}function e2(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return eI(e);let r="";t<0&&(r="-",t*=n(-1));let i=n(60),o=[t%i];return t<60?o.unshift(0):(o.unshift((t=(t-o[0])/i)%i),t>=60&&o.unshift(t=(t-o[0])/i)),r+o.map(e=>e<10?"0"+String(e):String(e)).join(":").replace(/000000\d*$/,"")}let e9={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>e1(e,n),stringify:e2},e4={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>e1(e,!1),stringify:e2},e6={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){let t=e.match(e6.test);if(!t)throw Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,n,r,i,o,l,s]=t.map(Number),a=t[7]?Number((t[7]+"00").substr(1,3)):0,c=Date.UTC(n,r-1,i,o||0,l||0,s||0,a),u=t[8];if(u&&"Z"!==u){let f=e1(u,!1);30>Math.abs(f)&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},e8=[ev,eS,ek,eN,eY,eW,{identify:eH,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>ez(e,2,2,n),stringify:e=>eQ(e,2,"0b")},{identify:eH,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>ez(e,1,8,n),stringify:e=>eQ(e,8,"0")},{identify:eH,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>ez(e,0,10,n),stringify:eI},{identify:eH,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>ez(e,2,16,n),stringify:e=>eQ(e,16,"0x")},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:eI},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():eI(e)}},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){let t=new R(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){let r=e.substring(n+1).replace(/_/g,"");"0"===r[r.length-1]&&(t.minFractionDigits=r.length)}return t},stringify:eI},eU,eV,eq,e0,e9,e4,e6],e5=new Map([["core",[ev,eS,ek,eN,eO,eC,eB,ej,e$,eA,ex]],["failsafe",[ev,eS,ek]],["json",eR],["yaml11",e8],["yaml-1.1",e8]]),e7={binary:eU,bool:eO,float:ex,floatExp:eA,floatNaN:e$,floatTime:e4,int:eB,intHex:ej,intOct:eC,intTime:e9,map:ev,null:eN,omap:eV,pairs:eq,seq:eS,set:e0,timestamp:e6},e3={"tag:yaml.org,2002:binary":eU,"tag:yaml.org,2002:omap":eV,"tag:yaml.org,2002:pairs":eq,"tag:yaml.org,2002:set":e0,"tag:yaml.org,2002:timestamp":e6};function te(e,t){let n=e5.get(t);if(!n){if(Array.isArray(e))n=[];else{let r=Array.from(e5.keys()).filter(e=>"yaml11"!==e).map(e=>JSON.stringify(e)).join(", ");throw Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}}if(Array.isArray(e))for(let i of e)n=n.concat(i);else"function"==typeof e&&(n=e(n.slice()));return n.map(e=>{if("string"!=typeof e)return e;let t=e7[e];if(t)return t;let n=Object.keys(e7).map(e=>JSON.stringify(e)).join(", ");throw Error(`Unknown custom tag "${e}"; use one of ${n}`)})}let tt=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class tn{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:r,schema:i,sortMapEntries:l,toStringDefaults:c}){this.compat=Array.isArray(e)?te(e,"compat"):e?te(null,e):null,this.merge=!!n,this.name="string"==typeof i&&i||"core",this.knownTags=r?e3:{},this.tags=te(t,this.name),this.toStringOptions=c??null,Object.defineProperty(this,o,{value:ev}),Object.defineProperty(this,s,{value:ek}),Object.defineProperty(this,a,{value:eS}),this.sortMapEntries="function"==typeof l?l:!0===l?tt:null}clone(){let e=Object.create(tn.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}class tr{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,c,{value:i});let r=null;"function"==typeof t||Array.isArray(t)?r=t:void 0===n&&t&&(n=t,t=void 0);let o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=o;let{version:l}=o;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(l=this.directives.yaml.version)):this.directives=new T({version:l}),this.setSchema(l,n),void 0===e?this.contents=null:this.contents=this.createNode(e,r,n)}clone(){let e=Object.create(tr.prototype,{[c]:{value:i}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=y(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){ti(this.contents)&&this.contents.add(e)}addIn(e,t){ti(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){let n=B(this);e.anchor=!t||n.has(t)?j(t||"a",n):t}return new P(e.anchor)}createNode(e,t,n){let r;if("function"==typeof t)e=t.call({"":e},"",e),r=t;else if(Array.isArray(t)){let i=t.filter(e=>"number"==typeof e||e instanceof String||e instanceof Number).map(String);i.length>0&&(t=t.concat(i)),r=t}else void 0===n&&t&&(n=t,t=void 0);let{aliasDuplicateObjects:o,anchorPrefix:l,flow:s,keepUndefined:a,onTagObj:c,tag:u}=n??{},{onAnchor:f,setAnchors:m,sourceObjects:d}=function(e,t){let n=[],r=new Map,i=null;return{onAnchor:r=>{n.push(r),i||(i=B(e));let o=j(t,i);return i.add(o),o},setAnchors:()=>{for(let e of n){let t=r.get(e);if("object"==typeof t&&t.anchor&&(h(t.node)||p(t.node)))t.node.anchor=t.anchor;else{let i=Error("Failed to resolve repeated object (this should not happen)");throw i.source=e,i}}},sourceObjects:r}}(this,l||"a"),g={aliasDuplicateObjects:o??!0,keepUndefined:a??!1,onAnchor:f,onTagObj:c,replacer:r,schema:this.schema,sourceObjects:d},y=F(e,u,g);return s&&p(y)&&(y.flow=!0),m(),y}createPair(e,t,n={}){let r=this.createNode(e,null,n),i=this.createNode(t,null,n);return new em(r,i)}delete(e){return!!ti(this.contents)&&this.contents.delete(e)}deleteIn(e){return Z(e)?null!=this.contents&&(this.contents=null,!0):!!ti(this.contents)&&this.contents.deleteIn(e)}get(e,t){return p(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return Z(e)?!t&&h(this.contents)?this.contents.value:this.contents:p(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!p(this.contents)&&this.contents.has(e)}hasIn(e){return Z(e)?void 0!==this.contents:!!p(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=U(this.schema,[e],t):ti(this.contents)&&this.contents.set(e,t)}setIn(e,t){Z(e)?this.contents=t:null==this.contents?this.contents=U(this.schema,Array.from(e),t):ti(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new T({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new T({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let r=JSON.stringify(e);throw Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(n)this.schema=new tn(Object.assign(n,t));else throw Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:o}={}){let l={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof r?r:100,stringify:el},s=M(this.contents,t??"",l);if("function"==typeof i)for(let{count:a,res:c}of l.anchors.values())i(c,a);return"function"==typeof o?function e(t,n,r,i){if(i&&"object"==typeof i){if(Array.isArray(i))for(let o=0,l=i.length;o<l;++o){let s=i[o],a=e(t,i,String(o),s);void 0===a?delete i[o]:a!==s&&(i[o]=a)}else if(i instanceof Map)for(let c of Array.from(i.keys())){let u=i.get(c),f=e(t,i,c,u);void 0===f?i.delete(c):f!==u&&i.set(c,f)}else if(i instanceof Set)for(let m of Array.from(i)){let d=e(t,i,m,m);void 0===d?i.delete(m):d!==m&&(i.delete(m),i.add(d))}else for(let[h,g]of Object.entries(i)){let p=e(t,i,h,g);void 0===p?delete i[h]:p!==g&&(i[h]=p)}}return t.call(n,r,i)}(o,{"":s},"",s):s}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||0>=Number(e.indent))){let t=JSON.stringify(e.indent);throw Error(`"indent" option must be a positive integer, not ${t}`)}return function(e,t){let n=[],r=!0===t.directives;if(!1!==t.directives&&e.directives){let i=e.directives.toString(e);i?(n.push(i),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");let o=eo(e,t),{commentString:l}=o.options;if(e.commentBefore){1!==n.length&&n.unshift("");let s=l(e.commentBefore);n.unshift(J(s,""))}let a=!1,c=null;if(e.contents){if(y(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){let u=l(e.contents.commentBefore);n.push(J(u,""))}o.forceBlockIndent=!!e.comment,c=e.contents.comment}let f=c?void 0:()=>a=!0,m=el(e.contents,o,()=>c=null,f);c&&(m+=V(m,"",l(c))),("|"===m[0]||">"===m[0])&&"---"===n[n.length-1]?n[n.length-1]=`--- ${m}`:n.push(m)}else n.push(el(e.contents,o));if(e.directives?.docEnd){if(e.comment){let d=l(e.comment);d.includes("\n")?(n.push("..."),n.push(J(d,""))):n.push(`... ${d}`)}else n.push("...")}else{let h=e.comment;h&&a&&(h=h.replace(/^\n+/,"")),h&&((!a||c)&&""!==n[n.length-1]&&n.push(""),n.push(J(l(h),"")))}return n.join("\n")+"\n"}(this,e)}}function ti(e){if(p(e))return!0;throw Error("Expected a YAML collection as document contents")}function to(e,{flow:t,indicator:n,next:r,offset:i,onError:o,startOnNewline:l}){let s=!1,a=l,c=l,u="",f="",m=!1,d=!1,h=!1,g=null,p=null,y=null,b=null,v=null;for(let w of e)switch(h&&("space"!==w.type&&"newline"!==w.type&&"comma"!==w.type&&o(w.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h=!1),w.type){case"space":!t&&a&&"doc-start"!==n&&"	"===w.source[0]&&o(w,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=!0;break;case"comment":{c||o(w,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let E=w.source.substring(1)||" ";u?u+=f+E:u=E,f="",a=!1;break}case"newline":a?u?u+=w.source:s=!0:f+=w.source,a=!0,m=!0,(g||p)&&(d=!0),c=!0;break;case"anchor":g&&o(w,"MULTIPLE_ANCHORS","A node can have at most one anchor"),w.source.endsWith(":")&&o(w.offset+w.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=w,null===v&&(v=w.offset),a=!1,c=!1,h=!0;break;case"tag":p&&o(w,"MULTIPLE_TAGS","A node can have at most one tag"),p=w,null===v&&(v=w.offset),a=!1,c=!1,h=!0;break;case n:(g||p)&&o(w,"BAD_PROP_ORDER",`Anchors and tags must be after the ${w.source} indicator`),b&&o(w,"UNEXPECTED_TOKEN",`Unexpected ${w.source} in ${t??"collection"}`),b=w,a=!1,c=!1;break;case"comma":if(t){y&&o(w,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),y=w,a=!1,c=!1;break}default:o(w,"UNEXPECTED_TOKEN",`Unexpected ${w.type} token`),a=!1,c=!1}let S=e[e.length-1],k=S?S.offset+S.source.length:i;return h&&r&&"space"!==r.type&&"newline"!==r.type&&"comma"!==r.type&&("scalar"!==r.type||""!==r.source)&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:y,found:b,spaceBefore:s,comment:u,hasNewline:m,hasNewlineAfterProp:d,anchor:g,tag:p,end:k,start:v??k}}function tl(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end){for(let t of e.end)if("newline"===t.type)return!0}return!1;case"flow-collection":for(let n of e.items){for(let r of n.start)if("newline"===r.type)return!0;if(n.sep){for(let i of n.sep)if("newline"===i.type)return!0}if(tl(n.key)||tl(n.value))return!0}return!1;default:return!0}}function ts(e,t,n){if(t?.type==="flow-collection"){let r=t.end[0];r.indent===e&&("]"===r.source||"}"===r.source)&&tl(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function ta(e,t,n){let{uniqueKeys:r}=e.options;if(!1===r)return!1;let i="function"==typeof r?r:(t,n)=>t===n||h(t)&&h(n)&&t.value===n.value&&!("<<"===t.value&&e.schema.merge);return t.some(e=>i(e.key,n))}let tc="All mapping items must start at the same column";function tu(e,t,n,r){let i="";if(e){let o=!1,l="";for(let s of e){let{source:a,type:c}=s;switch(c){case"space":o=!0;break;case"comment":{n&&!o&&r(s,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let u=a.substring(1)||" ";i?i+=l+u:i=u,l="";break}case"newline":i&&(l+=a),o=!0;break;default:r(s,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=a.length}}return{comment:i,offset:t}}let tf="Block collections are not allowed within flow collections",tm=e=>e&&("block-map"===e.type||"block-seq"===e.type);function td(e){let t,n;try{t=RegExp("(.*?)(?<![ 	])[ 	]*\r?\n","sy"),n=RegExp("[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?\n","sy")}catch(r){t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let i=t.exec(e);if(!i)return e;let o=i[1],l=" ",s=t.lastIndex;for(n.lastIndex=s;i=n.exec(e);)""===i[1]?"\n"===l?o+=l:l="\n":(o+=l+i[1],l=" "),s=n.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=s,i=a.exec(e),o+l+(i?.[1]??"")}let th={0:"\0",a:"\x07",b:"\b",e:"\x1b",f:"\f",n:"\n",r:"\r",t:"	",v:"\v",N:"\x85",_:"\xa0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function tg(e,t,n,r){let i;let{value:o,type:l,comment:a,range:c}="block-scalar"===t.type?function(e,t,n){let r=e.offset,i=function({offset:e,props:t},n,r){if("block-scalar-header"!==t[0].type)return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=t[0],o=i[0],l=0,s="",a=-1;for(let c=1;c<i.length;++c){let u=i[c];if(s||"-"!==u&&"+"!==u){let f=Number(u);!l&&f?l=f:-1===a&&(a=e+c)}else s=u}-1!==a&&r(a,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let m=!1,d="",h=i.length;for(let g=1;g<t.length;++g){let p=t[g];switch(p.type){case"space":m=!0;case"newline":h+=p.source.length;break;case"comment":n&&!m&&r(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),h+=p.source.length,d=p.source.substring(1);break;case"error":r(p,"UNEXPECTED_TOKEN",p.message),h+=p.source.length;break;default:{let y=`Unexpected token in block scalar header: ${p.type}`;r(p,"UNEXPECTED_TOKEN",y);let b=p.source;b&&"string"==typeof b&&(h+=b.length)}}}return{mode:o,indent:l,chomp:s,comment:d,length:h}}(e,t,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};let o=">"===i.mode?R.BLOCK_FOLDED:R.BLOCK_LITERAL,l=e.source?function(e){let t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),i=r?.[1]?[r[1],n.slice(r[1].length)]:["",n],o=[i];for(let l=1;l<t.length;l+=2)o.push([t[l],t[l+1]]);return o}(e.source):[],s=l.length;for(let a=l.length-1;a>=0;--a){let c=l[a][1];if(""===c||"\r"===c)s=a;else break}if(0===s){let u="+"===i.chomp&&l.length>0?"\n".repeat(Math.max(1,l.length-1)):"",f=r+i.length;return e.source&&(f+=e.source.length),{value:u,type:o,comment:i.comment,range:[r,f,f]}}let m=e.indent+i.indent,d=e.offset+i.length,h=0;for(let g=0;g<s;++g){let[p,y]=l[g];if(""===y||"\r"===y)0===i.indent&&p.length>m&&(m=p.length);else{p.length<m&&n(d+p.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),0===i.indent&&(m=p.length),h=g;break}d+=p.length+y.length+1}for(let b=l.length-1;b>=s;--b)l[b][0].length>m&&(s=b+1);let v="",w="",E=!1;for(let S=0;S<h;++S)v+=l[S][0].slice(m)+"\n";for(let k=h;k<s;++k){let[N,O]=l[k];d+=N.length+O.length+1;let I="\r"===O[O.length-1];if(I&&(O=O.slice(0,-1)),O&&N.length<m){let $=i.indent?"explicit indentation indicator":"first line",A=`Block scalar lines must not be less indented than their ${$}`;n(d-O.length-(I?2:1),"BAD_INDENT",A),N=""}o===R.BLOCK_LITERAL?(v+=w+N.slice(m)+O,w="\n"):N.length>m||"	"===O[0]?(" "===w?w="\n":E||"\n"!==w||(w="\n\n"),v+=w+N.slice(m)+O,w="\n",E=!0):""===O?"\n"===w?v+="\n":w="\n":(v+=w+O,w=" ",E=!1)}switch(i.chomp){case"-":break;case"+":for(let x=s;x<l.length;++x)v+="\n"+l[x][0].slice(m);"\n"!==v[v.length-1]&&(v+="\n");break;default:v+="\n"}let L=r+i.length+e.source.length;return{value:v,type:o,comment:i.comment,range:[r,L,L]}}(t,e.options.strict,r):function(e,t,n){let r,i;let{offset:o,type:l,source:s,end:a}=e,c=(e,t,r)=>n(o+e,t,r);switch(l){case"scalar":r=R.PLAIN,i=function(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),td(e)}(s,c);break;case"single-quoted-scalar":r=R.QUOTE_SINGLE,("'"!==s[s.length-1]||1===s.length)&&c(s.length,"MISSING_CHAR","Missing closing 'quote"),i=td(s.slice(1,-1)).replace(/''/g,"'");break;case"double-quoted-scalar":r=R.QUOTE_DOUBLE,i=function(e,t){let n="";for(let r=1;r<e.length-1;++r){let i=e[r];if("\r"!==i||"\n"!==e[r+1]){if("\n"===i){let{fold:o,offset:l}=function(e,t){let n="",r=e[t+1];for(;(" "===r||"	"===r||"\n"===r||"\r"===r)&&("\r"!==r||"\n"===e[t+2]);)"\n"===r&&(n+="\n"),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}(e,r);n+=o,r=l}else if("\\"===i){let s=e[++r],a=th[s];if(a)n+=a;else if("\n"===s)for(s=e[r+1];" "===s||"	"===s;)s=e[++r+1];else if("\r"===s&&"\n"===e[r+1])for(s=e[++r+1];" "===s||"	"===s;)s=e[++r+1];else if("x"===s||"u"===s||"U"===s){let c={x:2,u:4,U:8}[s];n+=function(e,t,n,r){let i=e.substr(t,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i),l=o?parseInt(i,16):NaN;if(isNaN(l)){let s=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${s}`),s}return String.fromCodePoint(l)}(e,r+1,c,t),r+=c}else{let u=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),n+=u}}else if(" "===i||"	"===i){let f=r,m=e[r+1];for(;" "===m||"	"===m;)m=e[++r+1];"\n"===m||"\r"===m&&"\n"===e[r+2]||(n+=r>f?e.slice(f,r+1):i)}else n+=i}}return('"'!==e[e.length-1]||1===e.length)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}(s,c);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${l}`),{value:"",type:null,comment:"",range:[o,o+s.length,o+s.length]}}let u=o+s.length,f=tu(a,u,t,n);return{value:i,type:r,comment:f.comment,range:[o,u,f.offset]}}(t,e.options.strict,r),u=n?e.directives.tagName(n.source,e=>r(n,"TAG_RESOLVE_FAILED",e)):null,f=n&&u?function(e,t,n,r,i){if("!"===n)return e[s];let o=[];for(let l of e.tags)if(!l.collection&&l.tag===n){if(!l.default||!l.test)return l;o.push(l)}for(let a of o)if(a.test?.test(t))return a;let c=e.knownTags[n];return c&&!c.collection?(e.tags.push(Object.assign({},c,{default:!1,test:void 0})),c):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[s])}(e.schema,o,u,n,r):"scalar"===t.type?function({directives:e,schema:t},n,r,i){let o=t.tags.find(e=>e.default&&e.test?.test(n))||t[s];if(t.compat){let l=t.compat.find(e=>e.default&&e.test?.test(n))??t[s];if(o.tag!==l.tag){let a=e.tagString(o.tag),c=e.tagString(l.tag),u=`Value may be parsed as either ${a} or ${c}`;i(r,"TAG_RESOLVE_FAILED",u,!0)}}return o}(e,o,t,r):e.schema[s];try{let m=f.resolve(o,e=>r(n??t,"TAG_RESOLVE_FAILED",e),e.options);i=h(m)?m:new R(m)}catch(g){let d=g instanceof Error?g.message:String(g);r(n??t,"TAG_RESOLVE_FAILED",d),i=new R(o)}return i.range=c,i.source=o,l&&(i.type=l),u&&(i.tag=u),f.format&&(i.format=f.format),a&&(i.comment=a),i}let tp={composeNode:function(e,t,n,r){let i;let{spaceBefore:o,comment:l,anchor:s,tag:a}=n,c=!0;switch(t.type){case"alias":i=function({options:e},{offset:t,source:n,end:r},i){let o=new P(n.substring(1));""===o.source&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let l=t+n.length,s=tu(r,l,e.strict,i);return o.range=[t,l,s.offset],s.comment&&(o.comment=s.comment),o}(e,t,r),(s||a)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":i=tg(e,t,a,r),s&&(i.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":i=function(e,t,n,r,i){let o;switch(n.type){case"block-map":o=function({composeNode:e,composeEmptyNode:t},n,r,i){let o=new eb(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,s=null;for(let a of r.items){let{start:c,key:u,sep:f,value:m}=a,d=to(c,{indicator:"explicit-key-ind",next:u??f?.[0],offset:l,onError:i,startOnNewline:!0}),h=!d.found;if(h){if(u&&("block-seq"===u.type?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==r.indent&&i(l,"BAD_INDENT",tc)),!d.anchor&&!d.tag&&!f){s=d.end,d.comment&&(o.comment?o.comment+="\n"+d.comment:o.comment=d.comment);continue}(d.hasNewlineAfterProp||tl(u))&&i(u??c[c.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else d.found?.indent!==r.indent&&i(l,"BAD_INDENT",tc);let g=d.end,p=u?e(n,u,d,i):t(n,g,c,null,d,i);n.schema.compat&&ts(r.indent,u,i),ta(n,o.items,p)&&i(g,"DUPLICATE_KEY","Map keys must be unique");let y=to(f??[],{indicator:"map-value-ind",next:m,offset:p.range[2],onError:i,startOnNewline:!u||"block-scalar"===u.type});if(l=y.end,y.found){h&&(m?.type!=="block-map"||y.hasNewline||i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&d.start<y.found.offset-1024&&i(p.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let b=m?e(n,m,y,i):t(n,l,f,null,y,i);n.schema.compat&&ts(r.indent,m,i),l=b.range[2];let v=new em(p,b);n.options.keepSourceTokens&&(v.srcToken=a),o.items.push(v)}else{h&&i(p.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),y.comment&&(p.comment?p.comment+="\n"+y.comment:p.comment=y.comment);let w=new em(p);n.options.keepSourceTokens&&(w.srcToken=a),o.items.push(w)}}return s&&s<l&&i(s,"IMPOSSIBLE","Map comment with trailing content"),o.range=[r.offset,l,s??l],o}(e,t,n,i);break;case"block-seq":o=function({composeNode:e,composeEmptyNode:t},n,r,i){let o=new ew(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,s=null;for(let{start:a,value:c}of r.items){let u=to(a,{indicator:"seq-item-ind",next:c,offset:l,onError:i,startOnNewline:!0});if(!u.found){if(u.anchor||u.tag||c)c&&"block-seq"===c.type?i(u.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{s=u.end,u.comment&&(o.comment=u.comment);continue}}let f=c?e(n,c,u,i):t(n,u.end,a,null,u,i);n.schema.compat&&ts(r.indent,c,i),l=f.range[2],o.items.push(f)}return o.range=[r.offset,l,s??l],o}(e,t,n,i);break;case"flow-collection":o=function({composeNode:e,composeEmptyNode:t},n,r,i){let o="{"===r.start.source,l=o?"flow map":"flow sequence",s=o?new eb(n.schema):new ew(n.schema);s.flow=!0;let a=n.atRoot;a&&(n.atRoot=!1);let c=r.offset+r.start.source.length;for(let u=0;u<r.items.length;++u){let f=r.items[u],{start:m,key:h,sep:g,value:p}=f,y=to(m,{flow:l,indicator:"explicit-key-ind",next:h??g?.[0],offset:c,onError:i,startOnNewline:!1});if(!y.found){if(!y.anchor&&!y.tag&&!g&&!p){0===u&&y.comma?i(y.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${l}`):u<r.items.length-1&&i(y.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${l}`),y.comment&&(s.comment?s.comment+="\n"+y.comment:s.comment=y.comment),c=y.end;continue}!o&&n.options.strict&&tl(h)&&i(h,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===u)y.comma&&i(y.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${l}`);else if(y.comma||i(y.start,"MISSING_CHAR",`Missing , between ${l} items`),y.comment){let b="";e:for(let v of m)switch(v.type){case"comma":case"space":break;case"comment":b=v.source.substring(1);break e;default:break e}if(b){let w=s.items[s.items.length-1];d(w)&&(w=w.value??w.key),w.comment?w.comment+="\n"+b:w.comment=b,y.comment=y.comment.substring(b.length+1)}}if(o||g||y.found){let E=y.end,S=h?e(n,h,y,i):t(n,E,m,null,y,i);tm(h)&&i(S.range,"BLOCK_IN_FLOW",tf);let k=to(g??[],{flow:l,indicator:"map-value-ind",next:p,offset:S.range[2],onError:i,startOnNewline:!1});if(k.found){if(!o&&!y.found&&n.options.strict){if(g)for(let N of g){if(N===k.found)break;if("newline"===N.type){i(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}y.start<k.found.offset-1024&&i(k.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else p&&("source"in p&&p.source&&":"===p.source[0]?i(p,"MISSING_CHAR",`Missing space after : in ${l}`):i(k.start,"MISSING_CHAR",`Missing , or : between ${l} items`));let O=p?e(n,p,k,i):k.found?t(n,k.end,g,null,k,i):null;O?tm(p)&&i(O.range,"BLOCK_IN_FLOW",tf):k.comment&&(S.comment?S.comment+="\n"+k.comment:S.comment=k.comment);let I=new em(S,O);if(n.options.keepSourceTokens&&(I.srcToken=f),o)ta(n,s.items,S)&&i(E,"DUPLICATE_KEY","Map keys must be unique"),s.items.push(I);else{let $=new eb(n.schema);$.flow=!0,$.items.push(I),s.items.push($)}c=O?O.range[2]:k.end}else{let A=p?e(n,p,y,i):t(n,y.end,g,null,y,i);s.items.push(A),c=A.range[2],tm(p)&&i(A.range,"BLOCK_IN_FLOW",tf)}}let x=o?"}":"]",[L,..._]=r.end,T=c;if(L&&L.source===x)T=L.offset+L.source.length;else{let C=l[0].toUpperCase()+l.substring(1),B=a?`${C} must end with a ${x}`:`${C} in block collection must be sufficiently indented and end with a ${x}`;i(c,a?"MISSING_CHAR":"BAD_INDENT",B),L&&1!==L.source.length&&_.unshift(L)}if(_.length>0){let j=tu(_,T,n.options.strict,i);j.comment&&(s.comment?s.comment+="\n"+j.comment:s.comment=j.comment),s.range=[r.offset,T,j.offset]}else s.range=[r.offset,T,T];return s}(e,t,n,i)}if(!r)return o;let l=t.directives.tagName(r.source,e=>i(r,"TAG_RESOLVE_FAILED",e));if(!l)return o;let s=o.constructor;if("!"===l||l===s.tagName)return o.tag=s.tagName,o;let a=m(o)?"map":"seq",c=t.schema.tags.find(e=>e.collection===a&&e.tag===l);if(!c){let u=t.schema.knownTags[l];if(!u||u.collection!==a)return i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${l}`,!0),o.tag=l,o;t.schema.tags.push(Object.assign({},u,{default:!1})),c=u}let f=c.resolve(o,e=>i(r,"TAG_RESOLVE_FAILED",e),t.options),h=y(f)?f:new R(f);return h.range=o.range,h.tag=l,c?.format&&(h.format=c.format),h}(tp,e,t,a,r),s&&(i.anchor=s.source.substring(1));break;default:{let u="error"===t.type?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",u),i=ty(e,t.offset,void 0,null,n,r),c=!1}}return s&&""===i.anchor&&r(s,"BAD_ALIAS","Anchor cannot be an empty string"),o&&(i.spaceBefore=!0),l&&("scalar"===t.type&&""===t.source?i.comment=l:i.commentBefore=l),e.options.keepSourceTokens&&c&&(i.srcToken=t),i},composeEmptyNode:ty};function ty(e,t,n,r,{spaceBefore:i,comment:o,anchor:l,tag:s,end:a},c){let u={type:"scalar",offset:function(e,t,n){if(t){null===n&&(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];i?.type==="space";)e+=i.source.length,i=t[++r];break}}return e}(t,n,r),indent:-1,source:""},f=tg(e,u,s,c);return l&&(f.anchor=l.source.substring(1),""===f.anchor&&c(l,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(f.spaceBefore=!0),o&&(f.comment=o,f.range[2]=a),f}let tb=Symbol("break visit"),tv=Symbol("skip children"),tw=Symbol("remove item");function tE(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),function e(t,n,r){let i=r(n,t);if("symbol"==typeof i)return i;for(let o of["key","value"]){let l=n[o];if(l&&"items"in l){for(let s=0;s<l.items.length;++s){let a=e(Object.freeze(t.concat([[o,s]])),l.items[s],r);if("number"==typeof a)s=a-1;else{if(a===tb)return tb;a===tw&&(l.items.splice(s,1),s-=1)}}"function"==typeof i&&"key"===o&&(i=i(n,t))}}return"function"==typeof i?i(n,t):i}(Object.freeze([]),e,t)}tE.BREAK=tb,tE.SKIP=tv,tE.REMOVE=tw,tE.itemAtPath=(e,t)=>{let n=e;for(let[r,i]of t){let o=n?.[r];if(!o||!("items"in o))return;n=o.items[i]}return n},tE.parentCollection=(e,t)=>{let n=tE.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],i=n?.[r];if(i&&"items"in i)return i;throw Error("Parent collection not found")}}}]);